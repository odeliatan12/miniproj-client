<div class="row">
  <div class="col-md-1"></div>
  <div class="row col-lg-11">
    <div class="col-md-12 margin">
      <div class="mb-2 filter">
        <form [formGroup]="form">
          <div class="h-100 p-2 bg-body-tertiary border rounded-3">
            <h3 class="border rounded-3">Find a meal</h3>
            <div class="dropdown">
              <select
                formControlName="meal"
                class="form-select mt-2 buttonWidth"
                aria-label="Default select example"
              >
                <option>Select distance</option>
                <!-- Distance dynamic -->
                <option *ngFor="let m of meals" value="{{ m.name }}">
                  {{ m.name }}
                </option>
              </select>
            </div>
            <!-- <input
            type="text"
            class="form-control"
            placeholder="Find a meal dish"
            [(ngModel)]="mealName"
            (keydown)="showMealName = true"
          />
          <div *ngIf="showMealName">
            <div
              *ngFor="let ml of mealNames | filterpipe : mealName"
            >
              <button class="btn" (click)="getInformation(ml)">
                {{ ml }}
              </button>
            </div>
          </div> -->

            <!-- Distance -->
            <select
              formControlName="distance"
              class="form-select mt-2 buttonWidth"
              aria-label="Default select example"
            >
              <option>Select distance</option>
              <!-- Distance dynamic -->
              <option *ngFor="let d of distance" value="{{ d.distance }}">
                less than {{ d.distance * 0.001 }} km
              </option>
            </select>

            <button
              type="button"
              class="btn btn-secondary mt-2"
              (click)="findMeal()"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-search"
                viewBox="0 0 16 16"
              >
                <path
                  d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
                ></path>
              </svg>
            </button>
          </div>
        </form>
      </div>

      <div class="mb-2 filter">
        <div class="h-100 p-2 bg-body-tertiary border rounded-3">
          <h3 class="border rounded-3">Filter</h3>
          <h4>Price</h4>
          <div class="form-check checkbox">
            <input
              class="form-check-input"
              type="checkbox"
              value="10"
              id="flexCheckDefault"
            />
            <label class="form-check-label" for="flexCheckDefault"> $ </label>
          </div>
          <div class="form-check checkbox">
            <input
              class="form-check-input"
              type="checkbox"
              value="20"
              id="flexCheckDefault"
            />
            <label class="form-check-label" for="flexCheckDefault"> $$ </label>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-12">
      <div
        *ngFor="let m of mealRest"
        class="h-100 p-2 bg-body-tertiary border rounded-3"
      >
        <h4 class="mealName">
          {{ m.name }} - ${{ m.amount }}
          <a
            class="border rounded-3"
            (click)="redirectToRestaurant(m.restaurant_id)"
            >{{ m.restaurant_name }}</a
          >
        </h4>
      </div>
    </div>
  </div>

  <!-- show map when clicked -->
  <div class="col-md-1"></div>
  <div class="col-md-11" *ngIf="showMap">
    <!-- <agm-map
      style="height: 300px"
      [latitude]="lat"
      [longitude]="lng"
      [zoom]="zoom"
      (mapClick)="mapClicked($event)"
    >
      <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
      <agm-marker
        *ngFor="let marker of markers"
        [latitude]="marker.latitude"
        [longitude]="marker.longitude"
        [label]="marker.restaurant_name"
        (mouseOver)="infoWindow?.open()"
        (mouseOut)="infoWindow?.close()"
      >
        <agm-info-window
          #infoWindow
          *ngIf="selectedMarker === marker"
          [latitude]="selectedMarker.latitude"
          [longitude]="selectedMarker.longitude"
        >
          {{ selectedMarker.restaurant_name }}
        </agm-info-window>
      </agm-marker>
    </agm-map> -->
    <google-map [options]="mapOptions">
      <map-marker
        [position]="{ lat: this.latitude, lng: this.longitude }"
      ></map-marker>
      <map-marker
        *ngFor="let marker of markers"
        [position]="{ lat: marker.latitude, lng: marker.longitude }"
      >
      </map-marker>
    </google-map>
  </div>
</div>
